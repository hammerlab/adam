language: scala
sudo: false

env:
  - vars="-D2.10"
  - vars="-D2.10 -Dspark2"
  - vars=""
  - vars="-Dspark2"

script: sbt clean coverage test

cache:
  directories:
  - \$HOME/.ivy2/cache
  - \$HOME/.sbt/boot/
  - \$HOME/.zinc

after_success: sbt coverageReport coveralls

before_cache:
  # Tricks to avoid unnecessary cache updates
  - find \$HOME/.ivy2 -name "ivydata-*.properties" -delete
  - find \$HOME/.sbt -name "*.lock" -delete
